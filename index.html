<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Water Reminder</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="layout">

    <!-- Top bar -->
    <header class="topBar">
      <button id="menuBtn" class="menuBtn" type="button" aria-label="Open menu" aria-expanded="false">‚ò∞</button>

      <div id="menuPanel" class="menuPanel" aria-hidden="true">
        <button id="historyBtn" class="menuItem" type="button">History (30 days)</button>
        <button id="reminderBtn" class="menuItem" type="button">Water reminder</button>
        <button id="chartBtn" class="menuItem" type="button">Drinking chart</button>
        <button id="personaliseBtn" class="menuItem" type="button">Personalisation</button>
        <button id="settingsBtn" class="menuItem" type="button">Settings</button>
        <button id="closeMenuBtn" class="menuItem subtle" type="button">Close</button>
      </div>
    </header>

    <!-- Left counters -->
    <aside class="leftPanel">
      <div class="stat">
        <div class="statLabel">Clicks (today)</div>
        <div class="statValue" id="clickCount">0</div>
      </div>

      <div class="stat">
        <div class="statLabel">Water drunk (today)</div>
        <div class="statValue"><span id="mlCount">0</span> ml</div>
      </div>

      <button id="undoBtn" class="undoBtn" type="button">Undo</button>
    </aside>

    <!-- Center -->
    <main class="centerArea">
      <div class="progressCard">
        <div class="progressHeader">
          <div class="progressTitle">Progress feedback</div>

          <div class="progressRight">
            <div class="progressText"><span id="progressNow">0</span> / <span id="progressGoal">2000</span> ml</div>

            <div class="streakBadge" title="Days you hit your goal">
              <span class="streakIcon">üî•</span>
              <span id="streakCount">0</span>
            </div>
          </div>
        </div>

        <div class="progressBar">
          <div id="progressFill" class="progressFill"></div>
        </div>

        <div class="progressHint" id="progressHint">Tap the bottle to log 50ml.</div>
      </div>

      <!-- Bottle -->
      <button id="bottleBtn" class="bottleBtn" aria-label="Drink water" type="button">
        <div id="bottleWrap" class="bottleWrap"
             data-headwear="none"
             data-facewear="none"
             data-shirt="none"
             data-bottoms="none"
             data-shoes="none">

          <div class="bottleCap"></div>

          <div class="bottleBody">
            <div id="bottleWater" class="bottleWater"></div>
            <div class="bottleGloss"></div>
          </div>

          <!-- Sticker layers (real images, auto cut-out + cartoon in JS) -->
          <div class="accLayer" aria-hidden="true">
            <!-- Headwear -->
            <img class="accImg headwear v1" data-item="headwear" data-variant="cap_blue" alt="">
            <img class="accImg headwear v2" data-item="headwear" data-variant="cap_red" alt="">
            <img class="accImg headwear v3" data-item="headwear" data-variant="cap_black" alt="">

            <!-- Facewear -->
            <img class="accImg facewear v1" data-item="facewear" data-variant="shades_black" alt="">
            <img class="accImg facewear v2" data-item="facewear" data-variant="shades_blue" alt="">
            <img class="accImg facewear v3" data-item="facewear" data-variant="shades_gold" alt="">

            <!-- Shirts -->
            <img class="accImg shirt v1" data-item="shirt" data-variant="tee_black" alt="">
            <img class="accImg shirt v2" data-item="shirt" data-variant="tee_white" alt="">
            <img class="accImg shirt v3" data-item="shirt" data-variant="tee_blue" alt="">

            <!-- Bottoms -->
            <img class="accImg bottoms v1" data-item="bottoms" data-variant="jeans_light" alt="">
            <img class="accImg bottoms v2" data-item="bottoms" data-variant="jeans_dark" alt="">
            <img class="accImg bottoms v3" data-item="bottoms" data-variant="jeans_black" alt="">

            <!-- Shoes -->
            <img class="accImg shoes v1" data-item="shoes" data-variant="boots_yellow" alt="">
            <img class="accImg shoes v2" data-item="shoes" data-variant="boots_black" alt="">
            <img class="accImg shoes v3" data-item="shoes" data-variant="boots_brown" alt="">
          </div>
        </div>

        <div id="bottleHint" class="bottleHint">Click to log 50ml</div>
      </button>
    </main>

    <div class="bottomBar"></div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast" aria-live="polite"></div>

  <!-- History modal -->
  <div id="historyModal" class="modalOverlay" aria-hidden="true">
    <div class="modal">
      <div class="modalHeader">
        <div>
          <div class="modalTitle">History (last 30 days)</div>
          <div class="modalSub" id="historySub">Each entry logs your cup size at that time.</div>
        </div>
        <button id="closeHistoryBtn" class="iconBtn" type="button" aria-label="Close history">‚úï</button>
      </div>

      <div class="modalBody">
        <div id="historyEmpty" class="emptyState">No history yet. Click the bottle to start logging.</div>
        <div id="historyList" class="historyList"></div>
      </div>
    </div>
  </div>

  <!-- Water Reminder modal -->
  <div id="reminderModal" class="modalOverlay" aria-hidden="true">
    <div class="modal">
      <div class="modalHeader">
        <div>
          <div class="modalTitle">üíß Water Reminder</div>
          <div class="modalSub">Set an interval and get reminded to drink water.</div>
        </div>
        <button id="closeReminderBtn" class="iconBtn" type="button" aria-label="Close reminder">‚úï</button>
      </div>

      <div class="modalBody">
        <div class="reminderCard">
          <label class="remLabel">
            Reminder interval (minutes):
            <input id="minutes" type="number" min="1" value="60" />
          </label>

          <div class="row">
            <button id="startBtn" type="button">Start</button>
            <button id="stopBtn" type="button" disabled>Stop</button>
          </div>

          <label class="checkbox">
            <input id="notifToggle" type="checkbox" />
            Use browser notifications (optional)
          </label>

          <p class="status" id="status">Not running</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Drinking chart modal -->
  <div id="chartModal" class="modalOverlay" aria-hidden="true">
    <div class="modal">
      <div class="modalHeader">
        <div>
          <div class="modalTitle">üìä Drinking chart</div>
          <div class="modalSub">Shows how much you drank each hour.</div>
        </div>
        <button id="closeChartBtn" class="iconBtn" type="button" aria-label="Close chart">‚úï</button>
      </div>

      <div class="modalBody">
        <div class="chartControls">
          <label class="chartLabel">
            Date:
            <select id="chartDateSelect" class="chartSelect"></select>
          </label>
          <div class="chartTotal">Total: <span id="chartTotalMl">0</span> ml</div>
        </div>

        <div class="chartCard">
          <canvas id="chartCanvas" width="900" height="360"></canvas>
        </div>

        <div class="chartLegend" id="chartLegend">
          Each bar = total ml in that hour (based on your cup size at the time).
        </div>
      </div>
    </div>
  </div>

  <!-- Personalisation modal -->
  <div id="personaliseModal" class="modalOverlay" aria-hidden="true">
    <div class="modal">
      <div class="modalHeader">
        <div>
          <div class="modalTitle">‚ú® Personalisation</div>
          <div class="modalSub">Customize your details, cup size, and bottle outfit.</div>
        </div>
        <button id="closePersonaliseBtn" class="iconBtn" type="button" aria-label="Close personalisation">‚úï</button>
      </div>

      <div class="modalBody">
        <div class="personaliseGrid">

          <section class="cardSection">
            <div class="sectionTitle">1) Personal details</div>

            <div class="formGrid">
              <label class="field">
                Weight (kg)
                <input id="pWeight" type="number" min="1" placeholder="e.g., 70" />
              </label>

              <label class="field">
                Gender
                <select id="pGender">
                  <option value="unspecified">Prefer not to say</option>
                  <option value="male">Male</option>
                  <option value="female">Female</option>
                </select>
              </label>

              <label class="field">
                Activity level
                <select id="pActivity">
                  <option value="sedentary">Sedentary</option>
                  <option value="semi_active">Semi active</option>
                  <option value="active">Active</option>
                </select>
              </label>

              <label class="field">
                Weather
                <select id="pWeather">
                  <option value="normal">Normal</option>
                  <option value="hot">Hot</option>
                  <option value="cold">Cold</option>
                </select>
              </label>

              <label class="field">
                Cup size per click (ml)
                <select id="pCupMl">
                  <option value="50">50 ml</option>
                  <option value="100">100 ml</option>
                  <option value="200">200 ml</option>
                </select>
              </label>
            </div>
          </section>

          <section class="cardSection">
            <div class="sectionTitle">2) Bottle customisation</div>

            <div class="formGrid">
              <label class="field">
                Headwear
                <select id="cHeadwear">
                  <option value="none">None</option>
                  <option value="cap_blue">Cap (Blue)</option>
                  <option value="cap_red">Cap (Red)</option>
                  <option value="cap_black">Cap (Black)</option>
                </select>
              </label>

              <label class="field">
                Facewear
                <select id="cFacewear">
                  <option value="none">None</option>
                  <option value="shades_black">Sunglasses (Black)</option>
                  <option value="shades_blue">Sunglasses (Blue)</option>
                  <option value="shades_gold">Sunglasses (Gold)</option>
                </select>
              </label>

              <label class="field">
                Shirts
                <select id="cShirt">
                  <option value="none">None</option>
                  <option value="tee_black">Tee (Black)</option>
                  <option value="tee_white">Tee (White)</option>
                  <option value="tee_blue">Tee (Blue)</option>
                </select>
              </label>

              <label class="field">
                Bottoms
                <select id="cBottoms">
                  <option value="none">None</option>
                  <option value="jeans_light">Jeans (Light)</option>
                  <option value="jeans_dark">Jeans (Dark)</option>
                  <option value="jeans_black">Jeans (Black)</option>
                </select>
              </label>

              <label class="field">
                Shoes
                <select id="cShoes">
                  <option value="none">None</option>
                  <option value="boots_yellow">Boots (Yellow)</option>
                  <option value="boots_black">Boots (Black)</option>
                  <option value="boots_brown">Boots (Brown)</option>
                </select>
              </label>

              <div class="hintBox">
                Clothing uses your images (auto cut-out + cartoon). One item per category.
              </div>
            </div>
          </section>

          <div class="row">
            <button id="savePersonaliseBtn" type="button">Save</button>
            <button id="resetPersonaliseBtn" type="button" class="softBtn">Reset</button>
          </div>

          <div class="status" id="personaliseStatus">Not saved yet</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Settings modal -->
  <div id="settingsModal" class="modalOverlay" aria-hidden="true">
    <div class="modal">
      <div class="modalHeader">
        <div>
          <div class="modalTitle">‚öôÔ∏è Settings</div>
          <div class="modalSub">Customize your experience.</div>
        </div>
        <button id="closeSettingsBtn" class="iconBtn" type="button" aria-label="Close settings">‚úï</button>
      </div>

      <div class="modalBody">
        <div class="settingsCard">
          <div class="settingRow">
            <div class="settingText">
              <div class="settingTitle">Dark mode</div>
              <div class="settingSub">Switch between light and dark theme.</div>
            </div>

            <label class="switch" aria-label="Toggle dark mode">
              <input id="darkModeToggle" type="checkbox" />
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>

  <audio id="ding" preload="auto">
    <source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" type="audio/ogg">
  </audio>

  <script src="script.js"></script>
</body>
</html>
